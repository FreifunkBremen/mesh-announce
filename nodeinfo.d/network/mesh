(lambda devs: {
    dev: {
        "interfaces": {
            "tunnel": [
                open('/sys/class/net/{}/address'.format(iface)).read().strip()
                for iface in map(
                    lambda line: line.split(':')[0],
                    call(['batctl', '-m', dev, 'if'])
                )
            ]
        }
    }
    for dev in devs
})([batadv_dev]+batadv_dev_extra)
